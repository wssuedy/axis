const {
  Domain
} = require("cqrs");
const ExpressCQRS = require("../dist/index.js").default;
const express = require("express");
const request = require('supertest');
const bodyParser = require("body-parser");

describe("test", () => {

  const app = express();
  app.use(bodyParser.json());
  app.use(bodyParser.urlencoded({
    extended: true
  }));
  app.use(ExpressCQRS({
    app,
    actorPath: __dirname + "/actors"
  }))

  it("test", (done) => {
    request(app)
      .post('/domain/User/create')
      .send({
        name: "leo"
      })
      .end(function(err, res) {
        console.log(res.body)
        done();
      });
  })
})
